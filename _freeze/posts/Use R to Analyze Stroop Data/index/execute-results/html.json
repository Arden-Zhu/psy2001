{
  "hash": "ce701c3283d61361a33e0bad92bfe2f9",
  "result": {
    "markdown": "---\ntitle: \"Use R to Analyze the Data of Stroop with Stimulus Duration\"\nauthor: \"Hao Zhu\"\ndate: \"2023-10-02\"\ndate-modified: last-modified\ncategories: [JsPsych, code, psychology, R]\n---\n\n\nThis is a trial of using R to analyze the data of [Stroop with Stimulus Duration](../../experiments/stroop/stroop-duration.html).\n\nFollow the [instruction](https://www.crumplab.com/psyc2001/blog/5_stroop_data/)\n\n# Load data\n\n### Define parameters\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata_folder <- \"../../experiments/Stroop/stroop-duration/20231002\"\n```\n:::\n\n\n### Loading libraries and importing data\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# install from the Packages tab, or run the below in the console once.\n#install.packages('tidyverse')\n#install.packages('rio')\n\n# load libraries\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.3     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.3     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\nlibrary(rio)\n\n# get data file names\nfile_names <- list.files(data_folder,full.names = TRUE)\n\n# initialize data frame to hold individual subject data\nall_data <- tibble()\n\n# loop through each file and import\nfor(i in 1:length(file_names)) {\n  \n  # import a single data file to a temporary data frame\n  temp_df <- rio::import(file_names[i]) %>%\n    mutate(subject = i)\n  \n  # append the single subject data to larger data frame\n  all_data <- rbind(all_data,temp_df)\n  \n}\n```\n:::\n\n\n# Reaction time analysis\n\n### By congruncy\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# pre-process and filter rows\nfiltered_data <- all_data %>%\n  filter(task == \"response\",\n         is_correct == \"TRUE\") %>%\n  mutate(rt = as.numeric(rt),\n         duration = as.character(duration),\n         is_congruent_duration = paste(is_congruent, \" \", duration))\n\n# get individual subject means in each condition\nsubject_mean_RT <- filtered_data %>%\n  group_by(subject,is_congruent) %>%\n  summarize(mean_rt = mean(rt), .groups = \"drop\")\n\n# get group means in each condition\ngroup_mean_RT <- subject_mean_RT %>%\n  group_by(is_congruent) %>%\n  summarize(mean_reaction_time = mean(mean_rt),\n            sem = sd(mean_rt)/sqrt(length(mean_rt))\n            )\n\n# plot\nggplot(group_mean_RT, aes(x=is_congruent,y=mean_reaction_time)) +\n  geom_bar(stat=\"identity\") +\n  geom_errorbar(aes(ymin=mean_reaction_time-sem,\n                    ymax=mean_reaction_time+sem),\n                width=.2) +\n  ylab(\"Mean Reaction Time (ms)\") +\n  xlab(\"Congruency\")+\n  coord_cartesian(ylim=c(600,1000)) +\n  theme_classic()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n### By stimulus duration\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# get individual subject means in each condition\nsubject_mean_RT <- filtered_data %>%\n  group_by(subject,duration) %>%\n  summarize(mean_rt = mean(rt), .groups = \"drop\")\n\n# get group means in each condition\ngroup_mean_RT <- subject_mean_RT %>%\n  group_by(duration) %>%\n  summarize(mean_reaction_time = mean(mean_rt),\n            sem = sd(mean_rt)/sqrt(length(mean_rt))\n            )\n\n# plot\nggplot(group_mean_RT, aes(x=duration,y=mean_reaction_time)) +\n  geom_bar(stat=\"identity\") +\n  geom_errorbar(aes(ymin=mean_reaction_time-sem,\n                    ymax=mean_reaction_time+sem),\n                width=.2) +\n  ylab(\"Mean Reaction Time (ms)\") +\n  xlab(\"Duration\")+\n  coord_cartesian(ylim=c(600,1000)) +\n  theme_classic()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n### By congruency plus stimulus duration\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# get individual subject means in each condition\nsubject_mean_RT <- filtered_data %>%\n  group_by(subject,is_congruent_duration) %>%\n  summarize(mean_rt = mean(rt), .groups = \"drop\")\n\n# get group means in each condition\ngroup_mean_RT <- subject_mean_RT %>%\n  group_by(is_congruent_duration) %>%\n  summarize(mean_reaction_time = mean(mean_rt),\n            sem = sd(mean_rt)/sqrt(length(mean_rt))\n            )\n\n# plot\nggplot(group_mean_RT, aes(x=is_congruent_duration,y=mean_reaction_time)) +\n  geom_bar(stat=\"identity\") +\n  geom_errorbar(aes(ymin=mean_reaction_time-sem,\n                    ymax=mean_reaction_time+sem),\n                width=.2) +\n  ylab(\"Mean Reaction Time (ms)\") +\n  xlab(\"Congruency + Duration\")+\n  coord_cartesian(ylim=c(500,1000)) +\n  theme_classic()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n### plot congruency on 2 lines\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# pre-process and filter rows\nfiltered_data <- all_data %>%\n  filter(task == \"response\",\n         is_correct == \"TRUE\") %>%\n  mutate(rt = as.numeric(rt),\n         duration = duration %% 1000,\n         is_congruent_duration = paste(is_congruent, \" \", duration))\n\n# get individual subject means in each condition\nsubject_mean_RT <- filtered_data %>%\n  group_by(subject,is_congruent, duration) %>%\n  summarize(mean_rt = mean(rt), .groups = \"drop\")\n\n# get group means in each condition\ngroup_mean_RT <- subject_mean_RT %>%\n  group_by(is_congruent, duration) %>%\n  summarize(mean_reaction_time = mean(mean_rt), .groups = \"drop\")\n\n# plot\nggplot(data = group_mean_RT, aes(x=duration, y=mean_reaction_time)) + geom_line(aes(colour=is_congruent))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n# Accuracy analysis\n\n### By congruency\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# pre-process and filter rows\nfiltered_data_pc <- all_data %>%\n  filter(task == \"response\") %>%\n  mutate(duration = as.character(duration),\n         is_congruent_duration = paste(is_congruent, \" \", duration))\n\n# get individual subject proportion correct values\nsubject_pc <- filtered_data_pc %>%\n  group_by(subject,is_congruent) %>%\n  summarize(proportion_correct = mean(is_correct), .groups = \"drop\")\n\n# get group means in each condition\ngroup_mean_pc <- subject_pc %>%\n  group_by(is_congruent) %>%\n  summarize(mean_proportion_correct = mean(proportion_correct),\n            sem = sd(proportion_correct)/sqrt(length(proportion_correct))\n            )\n\n# plot\nggplot(group_mean_pc, aes(x=is_congruent,y=mean_proportion_correct)) +\n  geom_bar(stat=\"identity\") +\n  geom_errorbar(aes(ymin=mean_proportion_correct-sem,\n                    ymax=mean_proportion_correct+sem),\n                width=.2) +\n  ylab(\"Mean Proportion Correct\") +\n  xlab(\"Congruency\")+\n  coord_cartesian(ylim=c(0.5,1)) +\n  theme_classic()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n### By duration\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# get individual subject proportion correct values\nsubject_pc <- filtered_data_pc %>%\n  group_by(subject,duration) %>%\n  summarize(proportion_correct = mean(is_correct), .groups = \"drop\")\n\n# get group means in each condition\ngroup_mean_pc <- subject_pc %>%\n  group_by(duration) %>%\n  summarize(mean_proportion_correct = mean(proportion_correct),\n            sem = sd(proportion_correct)/sqrt(length(proportion_correct))\n            )\n\n# plot\nggplot(group_mean_pc, aes(x=duration,y=mean_proportion_correct)) +\n  geom_bar(stat=\"identity\") +\n  geom_errorbar(aes(ymin=mean_proportion_correct-sem,\n                    ymax=mean_proportion_correct+sem),\n                width=.2) +\n  ylab(\"Mean Proportion Correct\") +\n  xlab(\"Duration\")+\n  coord_cartesian(ylim=c(0.5,1)) +\n  theme_classic()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n### By congruency\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# get individual subject proportion correct values\nsubject_pc <- filtered_data_pc %>%\n  group_by(subject,is_congruent_duration) %>%\n  summarize(proportion_correct = mean(is_correct), .groups = \"drop\")\n\n# get group means in each condition\ngroup_mean_pc <- subject_pc %>%\n  group_by(is_congruent_duration) %>%\n  summarize(mean_proportion_correct = mean(proportion_correct),\n            sem = sd(proportion_correct)/sqrt(length(proportion_correct))\n            )\n\n# plot\nggplot(group_mean_pc, aes(x=is_congruent_duration,y=mean_proportion_correct)) +\n  geom_bar(stat=\"identity\") +\n  geom_errorbar(aes(ymin=mean_proportion_correct-sem,\n                    ymax=mean_proportion_correct+sem),\n                width=.2) +\n  ylab(\"Mean Proportion Correct\") +\n  xlab(\"Congruency + Duration\")+\n  coord_cartesian(ylim=c(0.5,1)) +\n  theme_classic()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n### plot congruency on 2 lines\n \n\n::: {.cell}\n\n```{.r .cell-code}\n# pre-process and filter rows\nfiltered_data_pc <- all_data %>%\n  filter(task == \"response\") %>%\n  mutate(duration = duration %% 1000 )\n\n# get individual subject proportion correct values\nsubject_pc <- filtered_data_pc %>%\n  group_by(subject,is_congruent, duration) %>%\n  summarize(proportion_correct = mean(is_correct), .groups = \"drop\")\n\n# get group means in each condition\ngroup_mean_pc <- subject_pc %>%\n  group_by(is_congruent, duration) %>%\n  summarize(mean_proportion_correct = mean(proportion_correct), .groups = \"drop\")\n\n# plot\nggplot(data = group_mean_pc, aes(x=duration, y=mean_proportion_correct)) + geom_line(aes(colour=is_congruent))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\n# Conclusion\n\nIt shows that reducing stimulus duration cannot weaken Stroop effect.\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}